#!/bin/bash

# Parse Pikachu data from JSON
INPUT_FILE="data.json"

# Check if file exists
[ ! -f "$INPUT_FILE" ] && { echo "Error: $INPUT_FILE not found"; exit 1; }

# Extract name - look for "name":"pikachu" pattern
NAME=$(grep -o '"name":"pikachu"' "$INPUT_FILE" | head -1 | cut -d'"' -f4)
NAME=$(echo "$NAME" | sed 's/^./\U&/')

# Extract height - look for "height":number pattern
HEIGHT_DM=$(grep -o '"height":[0-9]*' "$INPUT_FILE" | cut -d':' -f2)
HEIGHT_M=$(echo "$HEIGHT_DM" | awk '{printf "%.1f", $1/10}')

# Extract weight - look for "weight":number pattern  
WEIGHT_HG=$(grep -o '"weight":[0-9]*' "$INPUT_FILE" | cut -d':' -f2)
WEIGHT_KG=$(echo "$WEIGHT_HG" | awk '{printf "%.0f", $1/10}')

# Extract first type - look for first type name in types array
TYPE=$(sed 's/.*"types":\[.*"name":"\([^"]*\)".*/\1/' "$INPUT_FILE")
TYPE=$(echo "$TYPE" | sed 's/^./\U&/')

# Output the result
echo "$NAME is of type $TYPE, weighs ${WEIGHT_KG}kg, and is ${HEIGHT_M}m tall."